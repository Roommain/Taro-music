(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"117":function(e,t,n){},"162":function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return p});var a=n(0),i=n(158),o=n(86),r=n(2),c=n(8),s=(n(117),n(182)),l=n(92),u=n(93),h=n(75),f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var p=function(e){function Index(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"搜索"},e.state={"value":"","SearchList":[],"songId":"","SearchHotList":[],"SearchHistoryList":[]},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,r["a"].Component),f(Index,[{"key":"onChange","value":function onChange(e){this.setState({"value":e})}},{"key":"onActionClick","value":function onActionClick(){this.getSearchData(this.state.value)}},{"key":"getSearchData","value":function getSearchData(e){var t=this;this.state.SearchHistoryList.unshift(e);var n=Array.from(new Set(this.state.SearchHistoryList));Object(i.a)({"url":h.a+"/search?keywords="+e,"header":{"content-type":"application/json"}}).then(function(e){t.setState({"SearchList":e.data.result.songs}),Object(o.c)("songList",e.data.result.songs),Object(o.c)("historyList",n)})}},{"key":"getSearchHotData","value":function getSearchHotData(){var e=this;Object(i.a)({"url":h.a+"/search/hot","header":{"content-type":"application/json"}}).then(function(t){e.setState({"SearchHotList":t.data.result.hots})})}},{"key":"play","value":function play(e){r.a.navigateTo({"url":"/pages/player/index?id="+e})}},{"key":"onClick","value":function onClick(e){this.getSearchData(e.name)}},{"key":"deleteHistory","value":function deleteHistory(e){this.state.SearchHistoryList.splice(e,1),this.setState({"SearchHistoryList":this.state.SearchHistoryList}),Object(o.c)("historyList",this.state.SearchHistoryList)}},{"key":"clickHistory","value":function clickHistory(e){this.getSearchData(e)}},{"key":"componentWillMount","value":function componentWillMount(){}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){this.getSearchHotData();var e=Object(o.a)("songId"),t=Object(o.a)("historyList")||[];this.setState({"songId":e,"value":"","SearchList":[],"SearchHistoryList":t})}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"render","value":function render(){var e=this,t=this.state,n=t.value,i=t.SearchList,o=t.songId,r=t.SearchHotList,h=t.SearchHistoryList;return a.l.createElement(c.a,null,a.l.createElement(s.a,{"value":n,"onChange":this.onChange.bind(this),"onActionClick":this.onActionClick.bind(this)}),0==i.length?r.map(function(t,n){return a.l.createElement(l.a,{"key":n,"className":"attag","name":t.first,"circle":!0,"onClick":e.onClick.bind(e)},t.first)}):"",0==i.length?h.map(function(t,n){return a.l.createElement(c.a,{"key":n,"className":"history clearfix"},a.l.createElement(c.a,{"className":"history-name","onClick":function onClick(){return e.clickHistory(t)}},t),a.l.createElement(u.a,{"className":"history-tag","onClick":function onClick(){return e.deleteHistory(n)},"value":"close-circle","size":"28","color":"#666"}))}):"",i.map(function(t,n){return a.l.createElement(c.a,{"className":o==t.id?"list clearfix active-list":"list clearfix","key":t.id,"onClick":function onClick(){return e.play(t.id)}},a.l.createElement(c.a,{"className":"right"},a.l.createElement(c.a,{"className":"name"},t.name),a.l.createElement(c.a,{"className":"synopsis"},t.artists.map(function(e,n){return a.l.createElement("span",{"key":n},e.name," ",n+1<t.artists.length?"/":"")}),"- ",t.name)),a.l.createElement(c.a,{"className":"play"},a.l.createElement(u.a,{"value":o==t.id?"pause":"play","size":"30","color":o==t.id?"rgb(34, 205, 248)":"#999"})))}))}}]),Index}()},"75":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a="https://www.litianfu.top"}}]);