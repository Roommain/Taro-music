(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"139":function(e,t,a){},"167":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return h});var n=a(0),i=a(158),l=a(86),s=a(2),r=a(8),c=a(159),o=(a(139),a(75)),u=a(179),m=a(168),g=a(93),d=a(177),p=a(169),f=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}();var h=function(e){function Index(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"歌手详情"},e.state={"current":0,"coverImgUrl":"","status":"loading","showList":[],"isPlay":!0,"reserveList":[],"songId":"","singerAlbumList":[],"singerMvList":[],"briefDesc":""},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,s["a"].Component),f(Index,[{"key":"componentWillMount","value":function componentWillMount(){var e=this.$router.params.id;this.getSingerSongList(e),this.getSingerAlbum(e),this.getSingerMv(e),this.getSingerDescribe(e)}},{"key":"getSingerSongList","value":function getSingerSongList(e){var t=this;Object(i.a)({"url":o.a+"/artists?id="+e,"header":{"content-type":"application/json"}}).then(function(e){t.setState({"coverImgUrl":e.data.artist.img1v1Url,"showList":e.data.hotSongs.slice(0,20),"reserveList":e.data.hotSongs.slice(20,50),"status":"more"}),Object(l.c)("songList",e.data.hotSongs.slice(0,20))})}},{"key":"getSingerAlbum","value":function getSingerAlbum(e){var t=this;Object(i.a)({"url":o.a+"/artist/album?id="+e,"header":{"content-type":"application/json"}}).then(function(e){t.setState({"singerAlbumList":e.data.hotAlbums})})}},{"key":"getSingerMv","value":function getSingerMv(e){var t=this;Object(i.a)({"url":o.a+"/artist/mv?id="+e,"header":{"content-type":"application/json"}}).then(function(e){console.log("mv",e),t.setState({"singerMvList":e.data.mvs})})}},{"key":"getSingerDescribe","value":function getSingerDescribe(e){var t=this;Object(i.a)({"url":o.a+"/artist/desc?id="+e,"header":{"content-type":"application/json"}}).then(function(e){console.log("获取歌手描述",e.data),t.setState({"briefDesc":e.data.briefDesc})})}},{"key":"handleClick","value":function handleClick(){var e=this;this.setState({"status":"loading"}),this.state.reserveList.forEach(function(t){e.state.showList.push(t)}),Object(l.c)("songList",this.state.showList),setTimeout(function(){e.setState({"status":"noMore"})},2e3)}},{"key":"tabsClick","value":function tabsClick(e){this.setState({"current":e})}},{"key":"play","value":function play(e){this.setState({"isPlay":!this.state.isPlay}),s.a.navigateTo({"url":"/pages/player/index?id="+e})}},{"key":"formatDate","value":function formatDate(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}},{"key":"getAlbumList","value":function getAlbumList(e){console.log("11111",e),s.a.navigateTo({"url":"/pages/music/albumList/index?id="+e})}},{"key":"goTOVideoPlay","value":function goTOVideoPlay(e){s.a.navigateTo({"url":"/pages/videoPlay/index?id="+e})}},{"key":"count","value":function count(e){return Math.floor(e/1e4*10)/10}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){var e=Object(l.a)("songId");this.setState({"songId":e})}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"render","value":function render(){var e=this,t=this.state,a=t.coverImgUrl,i=t.showList,l=t.status,s=t.songId,o=t.singerAlbumList,f=t.singerMvList,h=t.briefDesc;return n.l.createElement("div",null,n.l.createElement(r.a,null,n.l.createElement(c.a,{"className":"img","src":a})),n.l.createElement(u.a,{"current":this.state.current,"tabList":[{"title":"歌曲"},{"title":"专辑"},{"title":"MV"},{"title":"介绍"}],"onClick":this.tabsClick.bind(this)},n.l.createElement(m.a,{"current":this.state.current,"index":0},n.l.createElement(r.a,null,i.map(function(t,a){return n.l.createElement(r.a,{"className":s==t.id?"list clearfix active-list":"list clearfix","key":t.id,"onClick":function onClick(){return e.play(t.id)}},n.l.createElement(r.a,{"className":"index"},a+1),n.l.createElement(r.a,{"className":"left"},n.l.createElement(c.a,{"className":"singerImg","src":t.al.picUrl})),n.l.createElement(r.a,{"className":"right"},n.l.createElement(r.a,{"className":"name"},t.name),n.l.createElement(r.a,{"className":"synopsis"},t.ar[0].name,"-",t.name)),n.l.createElement(r.a,{"className":"play"},n.l.createElement(g.a,{"value":s==t.id?"pause":"play","size":"30","color":s==t.id?"rgb(34, 205, 248)":"#999"})))}),n.l.createElement(d.a,{"onClick":this.handleClick.bind(this),"status":l}))),n.l.createElement(m.a,{"current":this.state.current,"index":1},n.l.createElement(r.a,null,0!=o.length?o.map(function(t,a){return n.l.createElement(r.a,{"className":"list clearfix","key":t.id,"onClick":function onClick(){return e.getAlbumList(t.id)}},n.l.createElement(r.a,{"className":"album-left"},n.l.createElement(c.a,{"className":"albumImg","src":t.blurPicUrl})),n.l.createElement(r.a,{"className":"album-right"},n.l.createElement(r.a,{"className":"name"},t.name),n.l.createElement(r.a,{"className":"synopsis"},e.formatDate(t.publishTime),"-歌曲",t.size)))}):n.l.createElement(r.a,{"className":"img-box"},n.l.createElement(c.a,{"className":"no-data-img","src":"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575102627721&di=9785845886184a9d2e6f871f3c442408&imgtype=0&src=http%3A%2F%2Fimg.58cdn.com.cn%2Fdist%2Fjxedt%2Fpc%2Fproducts%2Fjxregister%2Fimages%2Fno_data.png"})))),n.l.createElement(m.a,{"current":this.state.current,"index":2},n.l.createElement(r.a,null,0!=f.length?f.map(function(t,a){return n.l.createElement(r.a,{"className":"mv-list clearfix","key":t.id,"onClick":function onClick(){return e.goTOVideoPlay(t.id)}},n.l.createElement(r.a,{"className":"mv-left"},n.l.createElement(c.a,{"className":"mv-img","src":t.imgurl}),n.l.createElement(r.a,{"className":"icon"},n.l.createElement(g.a,{"value":"play","size":"20","color":"#fff"}),e.count(t.playCount),"万")),n.l.createElement(r.a,{"className":"mv-right"},n.l.createElement(r.a,{"className":"name"},t.name),n.l.createElement(r.a,{"className":"synopsis"},t.publishTime)))}):n.l.createElement(r.a,{"className":"img-box"},n.l.createElement(c.a,{"className":"no-data-img","src":"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575102627721&di=9785845886184a9d2e6f871f3c442408&imgtype=0&src=http%3A%2F%2Fimg.58cdn.com.cn%2Fdist%2Fjxedt%2Fpc%2Fproducts%2Fjxregister%2Fimages%2Fno_data.png"})))),n.l.createElement(m.a,{"current":this.state.current,"index":3},n.l.createElement(r.a,null,n.l.createElement(p.a,{"className":"card","title":"个人简介"},h)))))}}]),Index}()},"75":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="https://www.litianfu.top"}}]);