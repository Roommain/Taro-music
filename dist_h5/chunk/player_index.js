(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"149":function(e,t,a){},"151":function(e,t){e.exports="data:image/jpeg;base64,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"},"172":function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return d});var n=a(0),i=a(173),l=a(86),o=a(158),r=a(2),s=a(8),c=a(159),u=(a(149),a(75)),f=a(151),p=a.n(f),m=a(93),A=a(181),h=a(174),y=function(){function defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}();Object(i.a)();var d=function(e){function Index(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);var e=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Index.__proto__||Object.getPrototypeOf(Index)).apply(this,arguments));return e.config={"navigationBarTitleText":"音乐播放"},e.state={"musicId":"","isPlay":!0,"isCollect":!1,"timeLenght":null,"songs":{},"playTime":0,"myAudio":{},"img":"","singerName":"","lyrics":[],"playLyrics":"","typeNum":0},e}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,r["a"].Component),y(Index,[{"key":"componentWillMount","value":function componentWillMount(){Object(l.a)("songId");var e=this.$router.params.id;this.autoplay(e)}},{"key":"autoplay","value":function autoplay(e){var t=this;this.getLyrics(e),this.setState({"musicId":"https://music.163.com/song/media/outer/url?id="+e+".mp3"}),Object(o.a)({"url":u.a+"/song/detail?ids="+e,"header":{"content-type":"application/json"}}).then(function(a){t.setState({"songs":a.data.songs[0],"img":a.data.songs[0].al.picUrl,"singerName":a.data.songs[0].ar[0].name});var n=Object(i.a)();t.setState({"myAudio":n}),Object(l.a)("songId")!=e&&(n.src=t.state.musicId,Object(l.c)("songId",e),Object(l.c)("songImg",a.data.songs[0].al.picUrl)),n.title=a.data.songs[0].name,n.onTimeUpdate(function(){t.setState({"timeLenght":n.duration,"playTime":n.currentTime})}),n.onEnded(function(){t.next()}),n.onError(function(){r.a.atMessage({"message":"播放错误，自动播放下一首","type":"error","duration":1500}),setTimeout(function(){t.next()},2e3)})})}},{"key":"getLyrics","value":function getLyrics(e){var t=this;this.setState({"lyrics":[]}),Object(o.a)({"url":u.a+"/lyric?id="+e,"header":{"content-type":"application/json"}}).then(function(e){for(var a=e.data.nolyric?[]:e.data.lrc.lyric.split("\n"),n=0;n<a.length;n++){var i=a[n].substring(a[n].indexOf("[")+1,a[n].indexOf("]")),l=a[n].substr(a[n].lastIndexOf("]")+1),o={};o.time=i.split(".")[0],o.content=l.trim(),t.state.lyrics.push(o)}})}},{"key":"getPlayLyrics","value":function getPlayLyrics(e){for(var t=this.conversion(e),a=0;a<this.state.lyrics.length;a++)if(this.state.lyrics[a].time==t)return this.state.lyrics[a].content}},{"key":"prev","value":function prev(){var e=Object(l.a)("songList"),t=Object(l.a)("songId");for(var a in e)if(e[a].id==t)if(0==a){var n=e[Number(e.length)-1].id;this.autoplay(n)}else{n=e[--a].id;this.autoplay(n)}}},{"key":"next","value":function next(){var e=Object(l.a)("songList"),t=Object(l.a)("songId");for(var a in e){if(e[a].id==t)if(a==Number(e.length)-1){var n=e[0].id;this.autoplay(n)}else{n=e[++a].id;this.autoplay(n)}}}},{"key":"play","value":function play(){this.state.isPlay?(this.setState({"isPlay":!1}),this.state.myAudio.pause(),Object(l.b)("songId")):this.state.isPlay||(this.setState({"isPlay":!0}),this.state.myAudio.play(),Object(l.a)("songId"))}},{"key":"pattern","value":function pattern(){this.state.typeNum%3==0?wx.showToast({"title":"已切换到单曲循环","icon":"none"}):this.state.typeNum%3==1?wx.showToast({"title":"已切换到随机播放","icon":"none"}):wx.showToast({"title":"已切换到顺序播放","icon":"none"}),this.setState({"typeNum":this.state.typeNum+1})}},{"key":"format","value":function format(e){var t=e%60|0;return t<10&&(t="0"+t),(e/60|0)+":"+t}},{"key":"conversion","value":function conversion(e){var t=e/60|0,a=e%60|0;return t<10&&(t="0"+t),a<10&&(a="0"+a),t+":"+a}},{"key":"sliderChange","value":function sliderChange(e){this.state.myAudio.seek(e.value),this.getPlayLyrics(e.value)}},{"key":"collection","value":function collection(){this.state.isCollect?wx.showToast({"title":"取消收藏成功","image":p.a}):wx.showToast({"title":"表面收藏成功","image":p.a}),this.setState({"isCollect":!this.state.isCollect})}},{"key":"componentDidMount","value":function componentDidMount(){}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"render","value":function render(){var e=this,t=this.state,a=(t.musicId,t.isPlay),i=t.isCollect,l=t.timeLenght,o=t.songs,r=t.playTime,u=t.img,f=t.singerName,p=t.lyrics,y=t.typeNum,d=null;return d=y%3==0?n.l.createElement(m.a,{"value":"repeat-play","size":"30","color":"#f60"}):y%3==1?n.l.createElement(m.a,{"value":"reload","size":"30","color":"#f60"}):n.l.createElement(m.a,{"value":"shuffle-play","size":"30","color":"#f60"}),n.l.createElement(s.a,{"className":"play"},n.l.createElement(c.a,{"className":"bg-img","src":u}),n.l.createElement(s.a,{"className":"components"},n.l.createElement(s.a,{"className":"music-name"},o.name),n.l.createElement(s.a,{"className":"singer-name"},f),n.l.createElement(s.a,{"className":"singer-img"},n.l.createElement(c.a,{"className":a?"rotate music-img":"rotate rotate-pause music-img","src":u})),n.l.createElement(s.a,{"className":"lyric"},0!=p.length?this.getPlayLyrics(r):"玩命加载中..."),n.l.createElement(s.a,{"className":"music-play"},n.l.createElement(s.a,{"className":"slider"},n.l.createElement("span",{"class":"start-time"},this.format(r)),n.l.createElement(A.a,{"className":"slider-width","step":1,"value":r,"max":l,"onChange":function onChange(t){return e.sliderChange(t)},"activeColor":"#f60","backgroundColor":"#BDBDBD","blockColor":"#f60","blockSize":12}),n.l.createElement("span",{"class":"end-time"},this.format(l))),n.l.createElement(s.a,{"className":"play-button"},n.l.createElement(s.a,{"className":"type","onClick":function onClick(){return e.pattern()}},d),n.l.createElement(s.a,{"className":"prev","onClick":function onClick(){return e.prev()}},n.l.createElement(m.a,{"value":"prev","size":"30","color":"#f60"})),n.l.createElement(s.a,{"className":"play-btn","onClick":function onClick(){return e.play()}},a?n.l.createElement(m.a,{"value":"pause","size":"30","color":"#f60"}):n.l.createElement(m.a,{"value":"play","size":"30","color":"#f60"})),n.l.createElement(s.a,{"className":"next","onClick":function onClick(){return e.next()}},n.l.createElement(m.a,{"value":"next","size":"30","color":"#f60"})),n.l.createElement(s.a,{"className":"heart","onClick":function onClick(){return e.collection()}},i?n.l.createElement(m.a,{"value":"heart-2","size":"30","color":"#f60"}):n.l.createElement(m.a,{"value":"heart","size":"30","color":"#f60"}))))),n.l.createElement(h.a,null))}}]),Index}()},"75":function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="https://www.litianfu.top"}}]);